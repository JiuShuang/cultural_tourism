{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport HotelApi from \"@/api/HotelApi\";\nexport default {\n  name: \"HotelManage\",\n  data() {\n    return {\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      search: '',\n      type: '',\n      fileList: [],\n      imgPre: 'http://localhost:8001/system/hotelImg/',\n      HotelData: [],\n      addHotelDrawer: false,\n      updateHotelDrawer: false,\n      hotelInfDrawer: false,\n      direction: 'rtl',\n      HotelForm: {\n        hotelID: '',\n        hotelName: '',\n        hotelCategory: '',\n        hotelCity: '',\n        hotelAddress: '',\n        hotelDetail: '',\n        hotelPrice: '',\n        hotelImg: '',\n        hotelCount: '',\n        hotelEvaluate: ''\n      }\n    };\n  },\n  methods: {\n    handleRemove(file) {\n      this.HotelForm.hotelImg = this.HotelForm.hotelImg.replace(file.name + '/', \"\");\n      HotelApi.delHotelImg(file.name).then(res => res.data).then(res => {\n        if (res.code === 200) {\n          this.$notify({\n            title: '删除照片',\n            message: '删除照片成功',\n            type: 'success',\n            offset: 100\n          });\n        } else {\n          this.$notify({\n            title: '删除照片',\n            message: '删除照片失败',\n            type: 'error',\n            offset: 100\n          });\n        }\n      });\n    },\n    handleBefore(file) {\n      const isLt20M = file.size / 1024 / 1024 / 1024 < 2;\n      if (file.type !== 'image/png' && file.type !== 'image/jpg' && file.type !== 'image/jpeg') {\n        this.$message.error('上传的头像只能是 PNG、JPG、JPEG格式!');\n        return false;\n      }\n      if (!isLt20M) {\n        this.$message.error('上传的头像大小不能超过 20MB!');\n        return false;\n      }\n      return true;\n    },\n    handleSuccess(res) {\n      if (this.HotelForm.hotelImg == null) {\n        this.HotelForm.hotelImg = res.data.hotelImg + '/';\n      } else {\n        this.HotelForm.hotelImg = this.HotelForm.hotelImg + res.data.hotelImg + '/';\n      }\n    },\n    getFileList(hotelImg) {\n      console.log(hotelImg);\n      if (hotelImg != null) {\n        let nameList = hotelImg.split('/');\n        let fileList = [];\n        for (const key in nameList) {\n          if (nameList[key] !== '') {\n            let imgList = {\n              name: nameList[key],\n              url: this.imgPre + nameList[key]\n            };\n            fileList.push(imgList);\n          }\n        }\n        this.fileList = fileList;\n      } else {\n        this.fileList = [];\n      }\n    },\n    openInformation(hotel) {\n      console.log(hotel);\n      this.hotelInfDrawer = true;\n      this.HotelForm.hotelID = hotel.hotelID;\n      this.HotelForm.hotelName = hotel.hotelName;\n      this.HotelForm.hotelCategory = hotel.hotelCategory;\n      this.HotelForm.hotelCity = hotel.hotelCity;\n      this.HotelForm.hotelAddress = hotel.hotelAddress;\n      this.HotelForm.hotelDetail = hotel.hotelDetail;\n      this.HotelForm.hotelPrice = hotel.hotelPrice;\n      this.HotelForm.hotelImg = hotel.hotelImg;\n      this.HotelForm.hotelCount = hotel.hotelCount;\n      this.HotelForm.hotelEvaluate = hotel.hotelEvaluate;\n      this.getFileList(hotel.hotelImg);\n    },\n    openAdd() {\n      this.fileList = [];\n      this.HotelForm.hotelID = '';\n      this.HotelForm.hotelName = '';\n      this.HotelForm.hotelCategory = '';\n      this.HotelForm.hotelCity = '';\n      this.HotelForm.hotelAddress = '';\n      this.HotelForm.hotelDetail = '';\n      this.HotelForm.hotelPrice = '';\n      this.HotelForm.hotelImg = '';\n      this.HotelForm.hotelCount = '';\n      this.HotelForm.hotelEvaluate = '';\n      this.$nextTick(() => {\n        this.addHotelDrawer = true;\n      });\n    },\n    openUpdate(hotel) {\n      this.getFileList(hotel.hotelImg);\n      this.HotelForm.hotelID = hotel.hotelID;\n      this.HotelForm.hotelName = hotel.hotelName;\n      this.HotelForm.hotelCategory = hotel.hotelCategory;\n      this.HotelForm.hotelCity = hotel.hotelCity;\n      this.HotelForm.hotelAddress = hotel.hotelAddress;\n      this.HotelForm.hotelDetail = hotel.hotelDetail;\n      this.HotelForm.hotelPrice = hotel.hotelPrice;\n      this.HotelForm.hotelImg = hotel.hotelImg;\n      this.HotelForm.hotelCount = hotel.hotelCount;\n      this.HotelForm.hotelEvaluate = hotel.hotelEvaluate;\n      this.$nextTick(() => {\n        this.updateHotelDrawer = true;\n      });\n    },\n    addHotel(hotel) {\n      HotelApi.addHotel(hotel).then(res => res.data).then(res => {\n        if (res.code === 200) {\n          this.searchHotel();\n          this.addHotelDrawer = false;\n          this.$notify({\n            title: '添加酒店信息',\n            message: '添加酒店信息成功',\n            type: 'success',\n            offset: 100\n          });\n        } else {\n          this.$notify({\n            title: '添加酒店信息',\n            message: '添加酒店信息失败',\n            type: 'error',\n            offset: 100\n          });\n        }\n      });\n    },\n    delHotel(hotel) {\n      HotelApi.delHotel(hotel).then(res => res.data).then(res => {\n        if (res.code === 200) {\n          this.searchHotel();\n          this.$notify({\n            title: '删除酒店信息',\n            message: '删除酒店信息成功',\n            type: 'success',\n            offset: 100\n          });\n        } else {\n          this.$notify({\n            title: '删除酒店信息',\n            message: '删除酒店信息失败',\n            type: 'error',\n            offset: 100\n          });\n        }\n      });\n    },\n    updateHotel(hotel) {\n      HotelApi.updateHotel(hotel).then(res => res.data).then(res => {\n        if (res.code === 200) {\n          this.searchHotel();\n          this.updateHotelDrawer = false;\n          console.log(hotel);\n          this.$notify({\n            title: '修改酒店信息',\n            message: '修改酒店信息成功',\n            type: 'success',\n            offset: 100\n          });\n        } else {\n          this.$notify({\n            title: '修改酒店信息',\n            message: '修改酒店信息失败',\n            type: 'error',\n            offset: 100\n          });\n        }\n      });\n    },\n    searchHotel() {\n      HotelApi.searchHotel(this.pageSize, this.pageNum, this.type, this.search).then(res => res.data).then(res => {\n        this.HotelData = res.data;\n        this.total = res.total;\n      });\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.searchHotel();\n    },\n    handleCurrentChange(val) {\n      this.pageNum = val;\n      this.searchHotel();\n    },\n    resetData() {\n      this.search = '';\n      this.type = '';\n      this.searchHotel();\n    }\n  },\n  mounted() {\n    this.searchHotel();\n  }\n};","map":{"version":3,"names":["HotelApi","name","data","pageSize","pageNum","total","search","type","fileList","imgPre","HotelData","addHotelDrawer","updateHotelDrawer","hotelInfDrawer","direction","HotelForm","hotelID","hotelName","hotelCategory","hotelCity","hotelAddress","hotelDetail","hotelPrice","hotelImg","hotelCount","hotelEvaluate","methods","handleRemove","file","replace","delHotelImg","then","res","code","$notify","title","message","offset","handleBefore","isLt20M","size","$message","error","handleSuccess","getFileList","console","log","nameList","split","key","imgList","url","push","openInformation","hotel","openAdd","$nextTick","openUpdate","addHotel","searchHotel","delHotel","updateHotel","handleSizeChange","val","handleCurrentChange","resetData","mounted"],"sources":["src/components/HotelManage/HotelManage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"dataForm\">\r\n      <el-input class=\"input\" v-model=\"search\" placeholder=\"请输入内容\" size=\"small\">\r\n        <el-select v-model=\"type\" slot=\"prepend\" placeholder=\"请选择\">\r\n          <el-option label=\"住宿类型\" value=\"住宿类型\"></el-option>\r\n          <el-option label=\"住宿城市\" value=\"住宿城市\"></el-option>\r\n          <el-option label=\"住宿名称\" value=\"住宿名称\"></el-option>\r\n        </el-select>\r\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchHotel\"></el-button>\r\n      </el-input>\r\n      <el-button  class=\"btn\"  plain size=\"small\" @click=\"openAdd\">新增酒店</el-button>\r\n      <el-button class=\"btn\" size=\"small\" icon=\"el-icon-refresh\" @click=\"resetData\">重置</el-button>\r\n      <el-table\r\n          class=\"table\"\r\n          :data=\"HotelData\"\r\n          style=\"width: 100%;height: 400px\"\r\n          max-height=\"400px\">\r\n        <el-table-column\r\n            prop=\"hotelCity\"\r\n            label=\"酒店城市\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"hotelCategory\"\r\n            label=\"酒店类别\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"hotelName\"\r\n            label=\"酒店名称\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"酒店详情\">\r\n          <template v-slot=\"scope\">\r\n            <el-link type=\"primary\" :underline=\"false\" @click=\"openInformation(scope.row)\">查看<i class=\"el-icon-view el-icon--right\"></i></el-link>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"操作\">\r\n          <template v-slot=\"scope\">\r\n            <el-tooltip content=\"修改酒店信息\" placement=\"top\" effect=\"dark\">\r\n              <el-button icon=\"el-icon-edit\" plain size=\"mini\" @click=\"openUpdate(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip content=\"删除酒店信息\" placement=\"top\" effect=\"dark\">\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" plain size=\"mini\" @click=\"delHotel(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n          class=\"page\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[10, 15, 20]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n\r\n      <el-drawer\r\n          title=\"酒店信息详情\"\r\n          :visible.sync=\"hotelInfDrawer\"\r\n          :direction=\"direction\"\r\n          >\r\n        <el-carousel height=\"200px\" style=\"margin: 10px\" indicator-position=\"outside\">\r\n          <el-carousel-item v-for=\"item in fileList\" :key=\"item.name\" >\r\n            <el-image :src=\"item.url\"></el-image>\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n\r\n        <el-descriptions style=\"margin: 10px\" :column=\"1\" border >\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-school\"></i>\r\n              酒店类别\r\n            </template>\r\n            {{this.HotelForm.hotelCategory}}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-s-home\"></i>\r\n              酒店名称\r\n            </template>\r\n            {{this.HotelForm.hotelName}}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-map-location\"></i>\r\n              所在城市\r\n            </template>\r\n            {{this.HotelForm.hotelCity}}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-location\"></i>\r\n              具体地址\r\n            </template>\r\n            {{this.HotelForm.hotelAddress}}\r\n          </el-descriptions-item>\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-coin\"></i>\r\n              酒店价格\r\n            </template>\r\n            {{this.HotelForm.hotelPrice}}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-thumb\"></i>\r\n              酒店评分\r\n            </template>\r\n            {{this.HotelForm.hotelCount}}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-chat-line-square\"></i>\r\n              酒店评价\r\n            </template>\r\n            {{this.HotelForm.hotelEvaluate}}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <i class=\"el-icon-set-up\"></i>\r\n              酒店简介\r\n            </template>\r\n            {{ this.HotelForm.hotelDetail }}\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n      </el-drawer>\r\n\r\n      <el-drawer\r\n          title=\"添加非遗信息\"\r\n          :visible.sync=\"addHotelDrawer\"\r\n          :direction=\"direction\">\r\n        <el-form ref=\"form\" :model=\"HotelForm\" label-width=\"80px\">\r\n          <el-form-item label=\"酒店类型\">\r\n            <el-input  v-model=\"HotelForm.hotelCategory\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店名称\">\r\n            <el-input  v-model=\"HotelForm.hotelName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店城市\">\r\n            <el-input  v-model=\"HotelForm.hotelCity\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"具体地址\">\r\n            <el-input v-model=\"HotelForm.hotelAddress\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店价格\">\r\n            <el-input v-model=\"HotelForm.hotelPrice\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店评分\">\r\n            <el-input v-model=\"HotelForm.hotelCount\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店评价\">\r\n            <el-input v-model=\"HotelForm.hotelEvaluate\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店简介\">\r\n            <el-input type=\"textarea\" v-model=\"HotelForm.hotelDetail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店照片\">\r\n            <el-upload\r\n                action=\"http://localhost:9527/system/hotelSys/uploadHotelImg\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-success=\"handleSuccess\"\r\n                :before-upload=\"handleBefore\"\r\n                :file-list=\"this.fileList\"\r\n                list-type=\"picture\">\r\n              <el-tooltip content=\"只上传JPG/PNG/JPEG文件且不超过20MB\" placement=\"top\" effect=\"dark\">\r\n                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              </el-tooltip>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item >\r\n            <el-button type=\"primary\" @click=\"addHotel(HotelForm)\" plain size=\"small\">立即修改</el-button>\r\n            <el-button size=\"small\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-drawer>\r\n\r\n      <el-drawer\r\n          title=\"修改酒店信息\"\r\n          :visible.sync=\"updateHotelDrawer\"\r\n          :direction=\"direction\">\r\n        <el-form ref=\"form\" :model=\"HotelForm\" label-width=\"80px\">\r\n          <el-form-item label=\"酒店类型\">\r\n            <el-input  v-model=\"HotelForm.hotelCategory\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店名称\">\r\n            <el-input  v-model=\"HotelForm.hotelName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店城市\">\r\n            <el-input  v-model=\"HotelForm.hotelCity\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"具体地址\">\r\n            <el-input v-model=\"HotelForm.hotelAddress\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店价格\">\r\n            <el-input v-model=\"HotelForm.hotelPrice\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店评分\">\r\n            <el-input v-model=\"HotelForm.hotelCount\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店评价\">\r\n            <el-input v-model=\"HotelForm.hotelEvaluate\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店简介\">\r\n            <el-input type=\"textarea\" v-model=\"HotelForm.hotelDetail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"酒店照片\">\r\n            <el-upload\r\n                action=\"http://localhost:9527/system/hotelSys/uploadHotelImg\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-success=\"handleSuccess\"\r\n                :before-upload=\"handleBefore\"\r\n                :file-list=\"this.fileList\"\r\n                list-type=\"picture\">\r\n              <el-tooltip content=\"只上传JPG/PNG/JPEG文件且不超过20MB\" placement=\"top\" effect=\"dark\">\r\n                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              </el-tooltip>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item >\r\n            <el-button type=\"primary\" @click=\"updateHotel(HotelForm)\" plain size=\"small\">立即修改</el-button>\r\n            <el-button size=\"small\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-drawer>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport HotelApi from \"@/api/HotelApi\";\r\n\r\nexport default {\r\n  name: \"HotelManage\",\r\n  data(){\r\n    return{\r\n      pageSize:10,\r\n      pageNum:1,\r\n      total:0,\r\n      search:'',\r\n      type:'',\r\n      fileList:[],\r\n      imgPre:'http://localhost:8001/system/hotelImg/',\r\n      HotelData:[],\r\n      addHotelDrawer:false,\r\n      updateHotelDrawer:false,\r\n      hotelInfDrawer:false,\r\n      direction:'rtl',\r\n      HotelForm: {\r\n        hotelID:'',\r\n        hotelName:'',\r\n        hotelCategory:'',\r\n        hotelCity:'',\r\n        hotelAddress:'',\r\n        hotelDetail:'',\r\n        hotelPrice:'',\r\n        hotelImg:'',\r\n        hotelCount:'',\r\n        hotelEvaluate:'',\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n\r\n    handleRemove(file) {\r\n      this.HotelForm.hotelImg=this.HotelForm.hotelImg.replace(file.name+'/',\"\")\r\n      HotelApi.delHotelImg(file.name).then(res=>res.data).then(res=>{\r\n        if (res.code===200){\r\n          this.$notify({\r\n            title: '删除照片',\r\n            message: '删除照片成功',\r\n            type:'success',\r\n            offset: 100\r\n          });\r\n        }else {\r\n          this.$notify({\r\n            title: '删除照片',\r\n            message: '删除照片失败',\r\n            type:'error',\r\n            offset: 100\r\n          });\r\n        }\r\n      })\r\n    },\r\n    handleBefore(file) {\r\n      const isLt20M = file.size / 1024 / 1024 /1024 < 2;\r\n      if (file.type!=='image/png' && file.type!=='image/jpg' && file.type!=='image/jpeg') {\r\n        this.$message.error('上传的头像只能是 PNG、JPG、JPEG格式!');\r\n        return false\r\n      }\r\n      if (!isLt20M) {\r\n        this.$message.error('上传的头像大小不能超过 20MB!');\r\n        return false\r\n      }\r\n      return true;\r\n    },\r\n    handleSuccess(res){\r\n      if (this.HotelForm.hotelImg==null){\r\n        this.HotelForm.hotelImg=res.data.hotelImg+'/'\r\n      }else {\r\n        this.HotelForm.hotelImg = this.HotelForm.hotelImg\r\n            + res.data.hotelImg+'/'\r\n      }\r\n    },\r\n\r\n    getFileList(hotelImg){\r\n      console.log(hotelImg)\r\n      if (hotelImg!=null) {\r\n        let nameList = hotelImg.split('/')\r\n        let fileList = []\r\n        for (const key in nameList) {\r\n          if (nameList[key]!=='') {\r\n            let imgList = {name: nameList[key], url: this.imgPre + nameList[key]}\r\n            fileList.push(imgList)\r\n          }\r\n        }\r\n        this.fileList = fileList\r\n      }else {\r\n        this.fileList=[]\r\n      }\r\n    },\r\n    openInformation(hotel){\r\n      console.log(hotel)\r\n      this.hotelInfDrawer=true\r\n      this.HotelForm.hotelID=hotel.hotelID\r\n      this.HotelForm.hotelName=hotel.hotelName\r\n      this.HotelForm.hotelCategory=hotel.hotelCategory\r\n      this.HotelForm.hotelCity=hotel.hotelCity\r\n      this.HotelForm.hotelAddress=hotel.hotelAddress\r\n      this.HotelForm.hotelDetail=hotel.hotelDetail\r\n      this.HotelForm.hotelPrice=hotel.hotelPrice\r\n      this.HotelForm.hotelImg=hotel.hotelImg\r\n      this.HotelForm.hotelCount=hotel.hotelCount\r\n      this.HotelForm.hotelEvaluate=hotel.hotelEvaluate\r\n      this.getFileList(hotel.hotelImg)\r\n    },\r\n    openAdd(){\r\n      this.fileList=[]\r\n      this.HotelForm.hotelID=''\r\n      this.HotelForm.hotelName=''\r\n      this.HotelForm.hotelCategory=''\r\n      this.HotelForm.hotelCity=''\r\n      this.HotelForm.hotelAddress=''\r\n      this.HotelForm.hotelDetail=''\r\n      this.HotelForm.hotelPrice=''\r\n      this.HotelForm.hotelImg=''\r\n      this.HotelForm.hotelCount=''\r\n      this.HotelForm.hotelEvaluate=''\r\n      this.$nextTick(()=>{\r\n        this.addHotelDrawer=true\r\n      })\r\n    },\r\n    openUpdate(hotel){\r\n      this.getFileList(hotel.hotelImg)\r\n      this.HotelForm.hotelID=hotel.hotelID\r\n      this.HotelForm.hotelName=hotel.hotelName\r\n      this.HotelForm.hotelCategory=hotel.hotelCategory\r\n      this.HotelForm.hotelCity=hotel.hotelCity\r\n      this.HotelForm.hotelAddress=hotel.hotelAddress\r\n      this.HotelForm.hotelDetail=hotel.hotelDetail\r\n      this.HotelForm.hotelPrice=hotel.hotelPrice\r\n      this.HotelForm.hotelImg=hotel.hotelImg\r\n      this.HotelForm.hotelCount=hotel.hotelCount\r\n      this.HotelForm.hotelEvaluate=hotel.hotelEvaluate\r\n      this.$nextTick(()=>{\r\n        this.updateHotelDrawer=true\r\n      })\r\n    },\r\n\r\n    addHotel(hotel){\r\n      HotelApi.addHotel(hotel).then(res=>res.data).then(res=>{\r\n        if (res.code===200){\r\n          this.searchHotel()\r\n          this.addHotelDrawer=false\r\n          this.$notify({\r\n            title: '添加酒店信息',\r\n            message: '添加酒店信息成功',\r\n            type:'success',\r\n            offset: 100\r\n          });\r\n        }else {\r\n          this.$notify({\r\n            title: '添加酒店信息',\r\n            message: '添加酒店信息失败',\r\n            type:'error',\r\n            offset: 100\r\n          });\r\n        }\r\n      })\r\n    },\r\n    delHotel(hotel){\r\n      HotelApi.delHotel(hotel).then(res=>res.data).then(res=>{\r\n        if (res.code===200){\r\n          this.searchHotel()\r\n          this.$notify({\r\n            title: '删除酒店信息',\r\n            message: '删除酒店信息成功',\r\n            type:'success',\r\n            offset: 100\r\n          });\r\n        }else {\r\n          this.$notify({\r\n            title: '删除酒店信息',\r\n            message: '删除酒店信息失败',\r\n            type:'error',\r\n            offset: 100\r\n          });\r\n        }\r\n      })\r\n    },\r\n    updateHotel(hotel){\r\n      HotelApi.updateHotel(hotel).then(res=>res.data).then(res=>{\r\n        if (res.code===200){\r\n          this.searchHotel()\r\n          this.updateHotelDrawer=false\r\n          console.log(hotel)\r\n          this.$notify({\r\n            title: '修改酒店信息',\r\n            message: '修改酒店信息成功',\r\n            type:'success',\r\n            offset: 100\r\n          });\r\n        }else {\r\n          this.$notify({\r\n            title: '修改酒店信息',\r\n            message: '修改酒店信息失败',\r\n            type:'error',\r\n            offset: 100\r\n          });\r\n        }\r\n      })\r\n    },\r\n\r\n    searchHotel(){\r\n      HotelApi.searchHotel(this.pageSize,this.pageNum,this.type,this.search).then(res=>res.data).then(res=>{\r\n        this.HotelData=res.data\r\n        this.total=res.total\r\n      })\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize=val\r\n      this.searchHotel()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNum=val\r\n      this.searchHotel()\r\n    },\r\n    resetData(){\r\n      this.search=''\r\n      this.type=''\r\n      this.searchHotel()\r\n    },\r\n  },\r\n  mounted() {\r\n    this.searchHotel()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dataForm{\r\n  width: 800px;\r\n  height: 500px;\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  float: left;\r\n  padding: 10px;\r\n  background: rgba( 254, 252, 252, 0.8 );\r\n  border-radius: 15px;\r\n  border: 1px solid rgba( 255, 255, 255, 0.18 );\r\n}\r\n.el-upload-list__item.is-ready {\r\n  display: none;\r\n}\r\n.el-upload-list__item {\r\n  transition: none !important;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n+1) {\r\n  background-color: #d3dce6;\r\n}\r\n.el-select{\r\n  width: 100px;\r\n}\r\n.el-input{\r\n  width: 300px;\r\n  float: left;\r\n  opacity: 0.8;\r\n}\r\n.btn{\r\n  float: left;\r\n  margin-left: 7px;\r\n}\r\n.btn:hover{\r\n  background-color: rgba( 255, 255, 255, 0.3 );\r\n  transform: scale(1.1);\r\n  transition: all 0.6s;\r\n}\r\n.table{\r\n  margin-top: 20px;\r\n  float: left;\r\n}\r\n.page{\r\n  float: left;\r\n  background-color: rgba( 254, 252, 252, 0.8 );\r\n  opacity: 0.8;\r\n  margin-left: 150px;\r\n}\r\n\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import 'animate.css';\nexport default {\n  name: 'LoginPage',\n  data() {\n    return {\n      confirm_disabled: false,\n      updatePasswordDialog: false,\n      phoneLoginDialog: false,\n      active: 0,\n      UserForm: {\n        userName: '',\n        password: '',\n        password02: '',\n        phone: '',\n        email: ''\n      },\n      phoneLoginForm: {\n        phone: '',\n        code: ''\n      },\n      LoginForm: {\n        userName: '',\n        password: ''\n      },\n      RegisterForm: {\n        userName: '',\n        password: '',\n        name: '',\n        age: '',\n        sex: '',\n        phone: '',\n        email: '',\n        statue: 1\n      },\n      styleObj: {\n        bordertoprightradius: '15px',\n        borderbottomrightradius: '15px',\n        bordertopleftradius: '0px',\n        borderbottomleftradius: '0px',\n        rightDis: '0px'\n      },\n      isShow: true\n    };\n  },\n  methods: {\n    changeToRegister() {\n      this.styleObj.bordertoprightradius = '0px';\n      this.styleObj.borderbottomrightradius = '0px';\n      this.styleObj.bordertopleftradius = '15px';\n      this.styleObj.borderbottomleftradius = '15px';\n      this.styleObj.rightDis = '50%';\n      this.isShow = !this.isShow;\n    },\n    changeToLogin() {\n      this.styleObj.bordertoprightradius = '15px';\n      this.styleObj.borderbottomrightradius = '15px';\n      this.styleObj.bordertopleftradius = '0px';\n      this.styleObj.borderbottomleftradius = '0px';\n      this.styleObj.rightDis = '0px';\n      this.isShow = !this.isShow;\n    },\n    GetCode() {\n      this.$refs.phoneLoginForm.validate(valid => {\n        if (valid) {\n          this.$axios.get('http://localhost:8081/user/getCode?phone=' + this.phoneLoginForm.phone);\n        }\n      });\n    },\n    PhoneLogin() {\n      this.$refs.phoneLoginForm.validate(valid => {\n        if (valid) {\n          this.$axios.get('http://localhost:8081/user/phoneLogin?phone=' + this.phoneLoginForm.phone + '&code=' + this.phoneLoginForm.code).then(res => res.data).then(res => {\n            if (res.code === 888) {\n              if (res.data.user.statue === 1) {\n                sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\n                sessionStorage.setItem(\"Authorization\", res.data.Authorization);\n                this.$router.replace('/Manager/Homepage');\n                this.$message({\n                  showClose: true,\n                  message: '用户登录成功',\n                  type: 'success'\n                });\n              } else {\n                this.$message({\n                  showClose: true,\n                  message: '该用户已被停用',\n                  type: 'warning'\n                });\n              }\n            } else {\n              this.confirm_disabled = false;\n              this.$message({\n                showClose: true,\n                message: '用户或者密码错误',\n                type: 'error'\n              });\n              return false;\n            }\n          });\n        } else {\n          this.confirm_disabled = false;\n          this.$message({\n            showClose: true,\n            message: '请完整填写信息',\n            type: 'warning'\n          });\n          return false;\n        }\n      });\n    },\n    LoginConfirm() {\n      this.confirm_disabled = true;\n      this.$refs.LoginForm.validate(valid => {\n        if (valid) {\n          this.$axios.post('http://localhost:8081/user/login', this.LoginForm).then(res => res.data).then(res => {\n            if (res.code === 888) {\n              console.log(res.data.user);\n              if (res.data.user.statue === 1) {\n                sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\n                sessionStorage.setItem(\"Authorization\", res.data.Authorization);\n                this.$router.replace('/Manager/Homepage');\n                this.$message({\n                  showClose: true,\n                  message: '用户登录成功',\n                  type: 'success'\n                });\n              } else {\n                this.$message({\n                  showClose: true,\n                  message: '该用户已被停用',\n                  type: 'warning'\n                });\n              }\n            } else {\n              this.confirm_disabled = false;\n              this.$message({\n                showClose: true,\n                message: '用户或者密码错误',\n                type: 'error'\n              });\n              return false;\n            }\n          });\n        } else {\n          this.confirm_disabled = false;\n          this.$message({\n            showClose: true,\n            message: '请完整填写信息',\n            type: 'warning'\n          });\n          return false;\n        }\n      });\n    },\n    RegisterConfirm() {\n      this.$refs.RegisterForm.validate(valid => {\n        if (valid) {\n          this.$axios.get(\"http://localhost:8081/user/select?userName=\" + this.RegisterForm.userName).then(res => res.data).then(res => {\n            if (res.code === 888) {\n              this.$message({\n                showClose: true,\n                message: '用户已经存在,请修改用户名',\n                type: 'error'\n              });\n            } else {\n              this.$axios.post('http://localhost:8081/user/save', this.RegisterForm).then(res => res.data).then(res => {\n                if (res.code === 888) {\n                  this.$message({\n                    showClose: true,\n                    message: '用户注册成功',\n                    type: 'success'\n                  });\n                  this.changeToLogin();\n                  this.$refs.RegisterForm.resetFields();\n                } else {\n                  this.$message({\n                    showClose: true,\n                    message: '用户注册失败',\n                    type: 'error'\n                  });\n                  return false;\n                }\n              });\n            }\n          });\n        } else {\n          this.$message({\n            showClose: true,\n            message: '请完整填写信息',\n            type: 'warning'\n          });\n          return false;\n        }\n      });\n    },\n    verifyUser() {\n      this.$axios.post('http://localhost:8081/user/checkUser', this.UserForm).then(res => res.data).then(res => {\n        if (res.code === 888) {\n          this.$message({\n            showClose: true,\n            message: '用户校验成功',\n            type: 'success'\n          });\n          this.next();\n        } else {\n          this.$message({\n            showClose: true,\n            message: '用户校验失败',\n            type: 'error'\n          });\n        }\n      });\n    },\n    updatePassword() {\n      this.$refs.UserForm.validate(valid => {\n        if (valid) {\n          this.$axios.post('http://localhost:8081/user/updatePassword', this.UserForm).then(res => res.data).then(res => {\n            if (res.code === 888) {\n              this.$message({\n                showClose: true,\n                message: '修改密码成功',\n                type: 'success'\n              });\n              this.next();\n            } else {\n              this.$message({\n                showClose: true,\n                message: '修改密码失败',\n                type: 'error'\n              });\n            }\n          });\n        } else {\n          this.$message({\n            showClose: true,\n            message: '修改密码失败',\n            type: 'warning'\n          });\n        }\n      });\n    },\n    GoLogin() {\n      this.updatePasswordDialog = false;\n      this.UserForm = {};\n      this.next();\n    },\n    next() {\n      if (this.active++ > 1) this.active = 0;\n    },\n    resetForm() {\n      this.$refs.RegisterForm.resetFields();\n    }\n  }\n};","map":{"version":3,"names":["name","data","confirm_disabled","updatePasswordDialog","phoneLoginDialog","active","UserForm","userName","password","password02","phone","email","phoneLoginForm","code","LoginForm","RegisterForm","age","sex","statue","styleObj","bordertoprightradius","borderbottomrightradius","bordertopleftradius","borderbottomleftradius","rightDis","isShow","methods","changeToRegister","changeToLogin","GetCode","$refs","validate","valid","$axios","get","PhoneLogin","then","res","user","sessionStorage","setItem","JSON","stringify","Authorization","$router","replace","$message","showClose","message","type","LoginConfirm","post","console","log","RegisterConfirm","resetFields","verifyUser","next","updatePassword","GoLogin","resetForm"],"sources":["src/components/LoginPage/LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"base\">\r\n    <!-- 注册登录界面 -->\r\n    <div  class=\"loginAndRegister\">\r\n      <!--登录表单-->\r\n      <div  class=\"loginArea\">\r\n        <!-- 标语 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" class=\"title\">\r\n            LOGIN\r\n          </div>\r\n        </transition>\r\n        <!-- 密码框和用户名框 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" class=\"pwdArea\">\r\n            <div style=\"flex: 1;justify-content: center;display: flex;align-items: center\">\r\n              <el-form class=\"LoginForm\" ref=\"LoginForm\" :model=\"LoginForm\" :rules=\"LoginRule\" label-width=\"80px\" >\r\n                <el-form-item label=\"用户名\" prop=\"userName\" style=\"margin-bottom: 20px;width: 235px\">\r\n                  <el-input v-model=\"LoginForm.userName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\" style=\"margin-top: 20px;width: 235px\">\r\n                  <el-input type=\"password\" v-model=\"LoginForm.password\"\r\n                            show-password autocomplete=\"off\" @keyup.e.enter.native=\"LoginConfirm\"></el-input>\r\n                </el-form-item>\r\n                <el-button type=\"text\" style=\"margin-left: 50px;font-size: 15px\" @click=\"phoneLoginDialog=true\">手机验证码登录</el-button>\r\n                <el-button type=\"text\" style=\"margin-left: 30px;font-size: 15px\" @click=\"updatePasswordDialog=true\">忘记密码?</el-button>\r\n              </el-form>\r\n            </div>\r\n\r\n          </div>\r\n        </transition>\r\n        <!-- 登录按钮 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" class=\"btnArea\">\r\n            <el-button type=\"success\" round style=\"background-color: #257B5E;margin-bottom: 70px;letter-spacing: 5px;font-size: 15px\"\r\n                       @click=\"LoginConfirm\"\r\n                       :disabled=\"confirm_disabled\">登录</el-button>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n\r\n      <el-dialog title=\"找回用户密码\" :visible.sync=\"updatePasswordDialog\" width=\"375px\">\r\n        <el-form ref=\"UserForm\" :model=\"UserForm\" :rules=\"userRule\" style=\"margin-left: 40px\">\r\n          <div v-if=\"active===0\">\r\n            <el-form-item label=\"用户名\" prop=\"userName\">\r\n              <el-input v-model=\"UserForm.userName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系方式\" prop=\"phone\">\r\n              <el-input v-model=\"UserForm.phone\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"电子邮件\" prop=\"email\">\r\n              <el-input v-model=\"UserForm.email\"></el-input>\r\n            </el-form-item>\r\n            <el-button type=\"primary\" style=\"margin-top: 12px;\" @click=\"verifyUser\">用户校验</el-button>\r\n          </div>\r\n          <div v-if=\"active===1\">\r\n            <el-form-item label=\"请输入新密码\" prop=\"password\">\r\n              <el-input type=\"password\" v-model=\"UserForm.password\" ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"请再次输入新密码\" prop=\"password02\">\r\n              <el-input type=\"password\" v-model=\"UserForm.password02\"></el-input>\r\n            </el-form-item>\r\n            <el-button type=\"primary\" style=\"margin-top: 12px;\" @click=\"updatePassword\">修改密码</el-button>\r\n          </div>\r\n          <div v-if=\"active===2\">\r\n            <el-row>\r\n              <el-col :sm=\"20\" :lg=\"30\">\r\n                <el-result icon=\"success\" title=\"修改密码成功\" subTitle=\"请返回主页面进行登录\">\r\n                  <template slot=\"extra\">\r\n                    <el-button type=\"primary\" size=\"medium\" @click=\"GoLogin\">返回主页</el-button>\r\n                  </template>\r\n                </el-result>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </el-form>\r\n        <div style=\"margin-top: 50px\">\r\n          <el-steps :active=\"this.active\" finish-status=\"success\" simple style=\"margin-top: 20px\">\r\n            <el-step title=\"用户校验\" ></el-step>\r\n            <el-step title=\"修改密码\" ></el-step>\r\n            <el-step title=\"返回登录\" style=\"width: 60px\"></el-step>\r\n          </el-steps>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog title=\"手机验证码登录\" :visible.sync=\"phoneLoginDialog\" width=\"375px\">\r\n        <el-form ref=\"phoneLoginForm\" :model=\"phoneLoginForm\"  style=\"margin-left: 40px\">\r\n          <el-form-item label=\"手机号\" prop=\"phone\">\r\n            <el-input v-model=\"phoneLoginForm.phone\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"验证码\" prop=\"code\">\r\n            <el-input v-model=\"phoneLoginForm.code\"></el-input>\r\n            <el-button type=\"primary\" style=\"margin-top: 10px\" @click=\"GetCode\">获取验证码</el-button>\r\n          </el-form-item>\r\n          <el-button type=\"success\" style=\"margin-top: 12px;\" @click=\"PhoneLogin\">登录</el-button>\r\n        </el-form>\r\n      </el-dialog>\r\n\r\n      <!-- 注册表单 -->\r\n      <div class=\"registerArea\">\r\n        <!--注册表头-->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"!isShow\" class=\"registerTitle\">\r\n            用户注册\r\n          </div>\r\n        </transition>\r\n        <!--注册表单-->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div  v-show=\"!isShow\" class=\"registerForm\">\r\n            <div style=\"flex: 1;display: flex;justify-content: center;align-items: center\">\r\n              <el-form class=\"RegisterForm\" ref=\"RegisterForm\" :model=\"RegisterForm\" :rules=\"RegisterRule\" label-width=\"80px\">\r\n                <el-form-item label=\"用 户 名\" prop=\"userName\" class=\"theLabel\">\r\n                  <el-input v-model=\"RegisterForm.userName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                  <el-input type=\"password\" v-model=\"RegisterForm.password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"昵 称\" prop=\"name\">\r\n                  <el-input v-model=\"RegisterForm.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"年 龄\" prop=\"age\">\r\n                  <el-input v-model=\"RegisterForm.age\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"性 别\" prop=\"sex\">\r\n                  <el-input v-model=\"RegisterForm.sex\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"联系方式\" prop=\"phone\">\r\n                  <el-input v-model=\"RegisterForm.phone\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电子邮件\" prop=\"email\">\r\n                  <el-input v-model=\"RegisterForm.email\"></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n        <!--注册按钮-->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div  v-show=\"!isShow\" class=\"registerBtn\">\r\n            <el-button type=\"success\" round style=\"background-color: #257B5E;letter-spacing: 5px\" @click=\"RegisterConfirm\">注册</el-button>\r\n            <el-button type=\"success\" round style=\"background-color: #42b983;letter-spacing: 5px\" @click=\"resetForm\">重置</el-button>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n      <!-- 信息展示界面 -->\r\n      <div id=\"aaa\" class=\"showInfo\"\r\n           :style=\"{\r\n             borderTopRightRadius:styleObj.bordertoprightradius,\r\n             borderBottomRightRadius:styleObj.borderbottomrightradius,\r\n             borderTopLeftRadius:styleObj.bordertopleftradius,\r\n             borderBottomLeftRadius:styleObj.borderbottomleftradius,\r\n             right:styleObj.rightDis\r\n            }\"\r\n           ref=\"showInfoView\">\r\n        <!-- 没有用户输入用户名或者找不到用户名的时候 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" style=\"display: flex;flex-direction: column;align-items: center;justify-content: center;width: 100%;height: 100%\">\r\n            <!-- 欢迎语 -->\r\n            <div style=\"flex: 2;display: flex;align-items: center;font-size: 22px;color: #FFFFFF;font-weight: bold\">\r\n              欢迎登入花茶系统\r\n            </div>\r\n            <!-- 欢迎图片 -->\r\n            <div style=\"flex: 2\">\r\n              <el-button type=\"success\"  style=\"background-color:#257B5E;border: 1px solid #ffffff;\" round @click=\"changeToRegister\">还没有账户？点击注册</el-button>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n        <!-- 用户注册的时候展示信息 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"!isShow\" style=\"display: flex;flex-direction: column;align-items: center;justify-content: center;width: 100%;height: 100%\">\r\n            <!-- 欢迎语 -->\r\n            <div style=\"flex: 2;display: flex;align-items: center;font-size: 30px;color: #FFFFFF;font-weight: bold\">\r\n              欢迎注册\r\n            </div>\r\n            <!-- 欢迎图片 -->\r\n            <div style=\"flex: 2\">\r\n              <el-button type=\"success\"  style=\"background-color:#257B5E;border: 1px solid #ffffff;\" round @click=\"changeToLogin\">已有账户？点击登录</el-button>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'animate.css'\r\nexport default {\r\n\r\n  name:'LoginPage',\r\n  data(){\r\n    return{\r\n      confirm_disabled:false,\r\n      updatePasswordDialog:false,\r\n      phoneLoginDialog:false,\r\n      active: 0,\r\n      UserForm:{\r\n        userName:'',\r\n        password:'',\r\n        password02:'',\r\n        phone:'',\r\n        email:''\r\n      },\r\n      phoneLoginForm:{\r\n        phone:'',\r\n        code:'',\r\n      },\r\n      LoginForm:{\r\n        userName:'',\r\n        password:'',\r\n      },\r\n      RegisterForm:{\r\n        userName:'',\r\n        password:'',\r\n        name:'',\r\n        age:'',\r\n        sex:'',\r\n        phone:'',\r\n        email:'',\r\n        statue:1\r\n      },\r\n\r\n      styleObj:{\r\n        bordertoprightradius:'15px',\r\n        borderbottomrightradius: '15px',\r\n        bordertopleftradius:'0px',\r\n        borderbottomleftradius:'0px',\r\n        rightDis:'0px'\r\n      },\r\n      isShow:true\r\n    }\r\n  },\r\n  methods:{\r\n    changeToRegister(){\r\n      this.styleObj.bordertoprightradius= '0px'\r\n      this.styleObj.borderbottomrightradius='0px'\r\n      this.styleObj.bordertopleftradius='15px'\r\n      this.styleObj.borderbottomleftradius='15px'\r\n      this.styleObj.rightDis='50%'\r\n      this.isShow = !this.isShow\r\n    },\r\n    changeToLogin(){\r\n      this.styleObj.bordertoprightradius= '15px'\r\n      this.styleObj.borderbottomrightradius='15px'\r\n      this.styleObj.bordertopleftradius='0px'\r\n      this.styleObj.borderbottomleftradius='0px'\r\n      this.styleObj.rightDis='0px'\r\n      this.isShow = !this.isShow\r\n    },\r\n    GetCode(){\r\n      this.$refs.phoneLoginForm.validate((valid)=>{\r\n        if(valid){\r\n          this.$axios.get('http://localhost:8081/user/getCode?phone='+this.phoneLoginForm.phone)\r\n        }\r\n      })\r\n    },\r\n    PhoneLogin(){\r\n      this.$refs.phoneLoginForm.validate((valid)=>{\r\n        if(valid){\r\n          this.$axios.get('http://localhost:8081/user/phoneLogin?phone='+this.phoneLoginForm.phone+'&code='+this.phoneLoginForm.code,).then(res=>res.data).then(res=>{\r\n            if(res.code===888){\r\n              if(res.data.user.statue===1) {\r\n\r\n                sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user))\r\n                sessionStorage.setItem(\"Authorization\",res.data.Authorization)\r\n\r\n                this.$router.replace('/Manager/Homepage');\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '用户登录成功',\r\n                  type: 'success'\r\n                });\r\n              }else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '该用户已被停用',\r\n                  type: 'warning'\r\n                });\r\n              }\r\n            }else {\r\n              this.confirm_disabled=false;\r\n              this.$message({\r\n                showClose: true,\r\n                message: '用户或者密码错误',\r\n                type: 'error'\r\n              });\r\n              return false;\r\n            }\r\n          });\r\n        }else {\r\n          this.confirm_disabled=false;\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请完整填写信息',\r\n            type: 'warning'\r\n          });\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    LoginConfirm(){\r\n      this.confirm_disabled=true;\r\n      this.$refs.LoginForm.validate((valid)=>{\r\n        if(valid){\r\n          this.$axios.post('http://localhost:8081/user/login',this.LoginForm).then(res=>res.data).then(res=>{\r\n            if(res.code===888){\r\n              console.log(res.data.user)\r\n              if(res.data.user.statue===1) {\r\n\r\n                sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user))\r\n                sessionStorage.setItem(\"Authorization\",res.data.Authorization)\r\n\r\n                this.$router.replace('/Manager/Homepage');\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '用户登录成功',\r\n                  type: 'success'\r\n                });\r\n              }else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '该用户已被停用',\r\n                  type: 'warning'\r\n                });\r\n              }\r\n            }else {\r\n              this.confirm_disabled=false;\r\n              this.$message({\r\n                showClose: true,\r\n                message: '用户或者密码错误',\r\n                type: 'error'\r\n              });\r\n              return false;\r\n            }\r\n          });\r\n        }else {\r\n          this.confirm_disabled=false;\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请完整填写信息',\r\n            type: 'warning'\r\n          });\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    RegisterConfirm(){\r\n      this.$refs.RegisterForm.validate((valid)=>{\r\n        if(valid){\r\n          this.$axios.get(\"http://localhost:8081/user/select?userName=\"+this.RegisterForm.userName).then(res=>res.data).then(res=>{\r\n            if(res.code===888){\r\n              this.$message({\r\n                showClose: true,\r\n                message: '用户已经存在,请修改用户名',\r\n                type: 'error'\r\n              });\r\n            }else{\r\n              this.$axios.post('http://localhost:8081/user/save',this.RegisterForm).then(res=>res.data).then(res=>{\r\n                if(res.code===888){\r\n                  this.$message({\r\n                    showClose: true,\r\n                    message: '用户注册成功',\r\n                    type: 'success'\r\n                  });\r\n                  this.changeToLogin()\r\n                  this.$refs.RegisterForm.resetFields()\r\n                }else {\r\n                  this.$message({\r\n                    showClose: true,\r\n                    message: '用户注册失败',\r\n                    type: 'error'\r\n                  });\r\n                  return false;\r\n                }\r\n              });\r\n            }\r\n          })\r\n        }else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请完整填写信息',\r\n            type: 'warning'\r\n          });\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    verifyUser(){\r\n      this.$axios.post('http://localhost:8081/user/checkUser',this.UserForm).then(res=>res.data).then(res=>{\r\n        if(res.code===888){\r\n          this.$message({\r\n            showClose: true,\r\n            message: '用户校验成功',\r\n            type: 'success'\r\n          });\r\n          this.next()\r\n        }else{\r\n          this.$message({\r\n            showClose: true,\r\n            message: '用户校验失败',\r\n            type: 'error'\r\n          });\r\n        }\r\n      })\r\n    },\r\n    updatePassword(){\r\n      this.$refs.UserForm.validate((valid)=>{\r\n        if(valid){\r\n          this.$axios.post('http://localhost:8081/user/updatePassword',this.UserForm).then(res=>res.data).then(res=>{\r\n            if(res.code===888){\r\n              this.$message({\r\n                showClose: true,\r\n                message: '修改密码成功',\r\n                type: 'success'\r\n              });\r\n              this.next()\r\n            }else{\r\n              this.$message({\r\n                showClose: true,\r\n                message: '修改密码失败',\r\n                type: 'error'\r\n              });\r\n            }\r\n          })\r\n        }else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '修改密码失败',\r\n            type: 'warning'\r\n          });\r\n        }\r\n      })\r\n    },\r\n    GoLogin(){\r\n      this.updatePasswordDialog=false\r\n      this.UserForm={};\r\n      this.next()\r\n    },\r\n    next() {\r\n      if (this.active++ > 1) this.active = 0;\r\n    },\r\n    resetForm(){\r\n      this.$refs.RegisterForm.resetFields();\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-form-item{\r\n  margin-bottom: 10px;\r\n  width: 225px;\r\n}\r\n.base{\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-image: url(\"../../assets/images/background.png\");\r\n  background-size: 100%;\r\n}\r\n.loginAndRegister{\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n.loginArea{\r\n  background-color: rgba(255,255,255,0.8);\r\n  border-top-left-radius: 15px;\r\n  border-bottom-left-radius: 15px;\r\n  height: 500px;\r\n  width: 400px;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n.registerArea{\r\n  border-top-right-radius: 15px;\r\n  border-bottom-right-radius: 15px;\r\n  height: 500px;\r\n  width: 400px;\r\n  background-color: rgba(255,255,255,0.8);\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content:center ;\r\n  align-items: center;\r\n}\r\n.showInfo{\r\n  border-top-right-radius: 15px;\r\n  border-bottom-right-radius: 15px;\r\n  position: absolute;\r\n  height: 500px;\r\n  width: 400px;\r\n  z-index:2;\r\n  top: 0;\r\n  right: 0;\r\n  background-image: url(\"../../assets/images/welcome.png\");\r\n  background-size: 90%;\r\n}\r\n.showInfo:hover{\r\n  background-size: 100%;\r\n  background-position: -50px -50px;\r\n}\r\n.title{\r\n  width: 70%;\r\n  flex:1;\r\n  border-bottom: 1px solid #257B5E;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #257B5E;\r\n  font-weight: bold;\r\n  font-size: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n#aaa{\r\n  transition: 0.3s linear;\r\n}\r\n.pwdArea{\r\n  width: 100%;\r\n  flex:2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.pwdArea input{\r\n  outline: none;\r\n  height: 40%;\r\n  border-radius:10px ;\r\n  padding-left: 10px;\r\n  font-size: 20px;\r\n  border: 1px solid gray;\r\n}\r\n.pwdArea input:focus{\r\n  border: 2px solid #257B5E;\r\n}\r\n\r\n.btnArea{\r\n  flex:1;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n.registerTitle{\r\n  width: 70%;\r\n  flex: 1;\r\n  color: #257B5E;\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-bottom: 1px solid #257B5E;\r\n}\r\n.registerForm{\r\n  flex: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: #257B5E;\r\n  font-size: 30px;\r\n}\r\n.registerForm input{\r\n  outline: none;\r\n  height: 15%;\r\n  border-radius:20px ;\r\n  padding-left: 10px;\r\n  font-size: 12px;\r\n  border: 2px solid gray;\r\n}\r\n.registerForm input:focus{\r\n  border: 2px solid #257B5E;\r\n}\r\n.registerBtn{\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
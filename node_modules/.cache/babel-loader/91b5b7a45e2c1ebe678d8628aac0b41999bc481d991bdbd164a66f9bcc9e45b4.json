{"ast":null,"code":"import * as echarts from \"echarts\";\nexport default {\n  name: \"HeritageManage\",\n  data() {\n    return {\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      search: '',\n      select: '',\n      HeritageData: [{\n        heritageName: '1',\n        heritageCity: '1',\n        heritageAddress: '1',\n        heritageDetail: '2',\n        heritageImg: '1'\n      }],\n      rankingData: [{\n        heritageName: \"不知道\",\n        collect: 20\n      }],\n      addHeritageDrawer: false,\n      updateHeritageDrawer: false,\n      direction: 'rtl',\n      HeritageForm: {\n        heritageName: '',\n        heritageCity: '',\n        heritageAddress: '',\n        heritageDetail: '',\n        heritageImg: ''\n      }\n    };\n  },\n  methods: {\n    initEcharts() {\n      const option = {\n        legend: {\n          orient: 'vertical',\n          x: 'left',\n          data: ['A', 'B', 'C', 'D', 'E']\n        },\n        series: [{\n          type: 'pie',\n          radius: ['50%', '70%'],\n          avoidLabelOverlap: false,\n          label: {\n            show: false,\n            position: 'center'\n          },\n          labelLine: {\n            show: false\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: '30',\n              fontWeight: 'bold'\n            }\n          },\n          data: [{\n            value: 335,\n            name: 'A'\n          }, {\n            value: 310,\n            name: 'B'\n          }, {\n            value: 234,\n            name: 'C'\n          }, {\n            value: 135,\n            name: 'D'\n          }, {\n            value: 1548,\n            name: 'E'\n          }]\n        }]\n      };\n      this.myChart = echarts.init(document.getElementById(\"teaChart\"));\n      this.myChart.setOption(option);\n    },\n    openAdd() {\n      this.addHeritageDrawer = true;\n      this.HeritageForm.heritageName = '';\n      this.HeritageForm.heritageCity = '';\n      this.HeritageForm.heritageDetail = '';\n      this.HeritageForm.heritageImg = '';\n    },\n    openUpdate(heritage) {\n      this.updateHeritageDrawer = true;\n      this.HeritageForm.heritageName = heritage.heritageName;\n      this.HeritageForm.heritageCity = heritage.heritageCity;\n      this.HeritageForm.heritageDetail = heritage.heritageDetail;\n      this.HeritageForm.heritageImg = heritage.heritageImg;\n    },\n    addHeritage() {},\n    delHeritage() {},\n    updateHeritage() {},\n    handleSizeChange(val) {\n      this.pageSize = val;\n    },\n    handleCurrentChange(val) {\n      this.pageNum = val;\n    }\n  },\n  beforeMount() {\n    this.initEcharts();\n  }\n};","map":{"version":3,"names":["echarts","name","data","pageSize","pageNum","total","search","select","HeritageData","heritageName","heritageCity","heritageAddress","heritageDetail","heritageImg","rankingData","collect","addHeritageDrawer","updateHeritageDrawer","direction","HeritageForm","methods","initEcharts","option","legend","orient","x","series","type","radius","avoidLabelOverlap","label","show","position","labelLine","emphasis","fontSize","fontWeight","value","myChart","init","document","getElementById","setOption","openAdd","openUpdate","heritage","addHeritage","delHeritage","updateHeritage","handleSizeChange","val","handleCurrentChange","beforeMount"],"sources":["src/components/HeritageManage/HeritageManage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"dataForm\">\r\n      <el-input class=\"input\" v-model=\"search\" placeholder=\"请输入内容\" size=\"small\">\r\n        <el-select v-model=\"select\" slot=\"prepend\" placeholder=\"请选择\">\r\n          <el-option label=\"所属市州\" value=\"1\"></el-option>\r\n          <el-option label=\"非遗名称\" value=\"2\"></el-option>\r\n        </el-select>\r\n        <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n      </el-input>\r\n      <el-button  class=\"btn\"  plain size=\"small\" @click=\"openAdd\">新增非遗</el-button>\r\n      <el-table\r\n          class=\"table\"\r\n          :data=\"HeritageData\"\r\n          style=\"width: 100%;height: 400px\"\r\n          max-height=\"400px\">\r\n        <el-table-column\r\n            prop=\"heritageCity\"\r\n            label=\"所属市州\"\r\n            width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"heritageName\"\r\n            label=\"非遗名称\"\r\n            width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"非遗详情\"\r\n            width=\"150\">\r\n          <el-button size=\"small\" icon=\"el-icon-view\" @click=\"openUpdate\">查看</el-button>\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"操作\"\r\n            width=\"150\">\r\n          <template v-slot=\"scope\">\r\n            <el-tooltip content=\"修改非遗信息\" placement=\"top\" effect=\"dark\">\r\n              <el-button icon=\"el-icon-edit\" plain size=\"mini\" @click=\"openUpdate(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip content=\"删除非遗信息\" placement=\"top\" effect=\"dark\">\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" plain size=\"mini\" @click=\"delHeritage(scope.row.userAccount)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n          class=\"page\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n\r\n      <el-drawer\r\n          title=\"添加非遗信息\"\r\n          :visible.sync=\"addHeritageDrawer\"\r\n          :direction=\"direction\">\r\n        <el-form ref=\"form\" :model=\"HeritageForm\" label-width=\"80px\">\r\n          <el-form-item label=\"非遗名称\">\r\n            <el-input  v-model=\"HeritageForm.heritageName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"所属市州\">\r\n            <el-input v-model=\"HeritageForm.heritageCity\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"具体地址\">\r\n            <el-input v-model=\"HeritageForm.heritageAddress\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"非遗简介\">\r\n            <el-input type=\"textarea\" v-model=\"HeritageForm.heritageDetail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item >\r\n            <el-button type=\"primary\" @click=\"updateHeritage\" plain size=\"small\">立即添加</el-button>\r\n            <el-button size=\"small\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-drawer>\r\n\r\n      <el-drawer\r\n          title=\"修改非遗信息\"\r\n          :visible.sync=\"updateHeritageDrawer\"\r\n          :direction=\"direction\">\r\n        <el-form ref=\"form\" :model=\"HeritageForm\" label-width=\"80px\">\r\n          <el-form-item label=\"非遗名称\">\r\n            <el-input  v-model=\"HeritageForm.heritageName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"所属市州\">\r\n            <el-input v-model=\"HeritageForm.heritageCity\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"具体地址\">\r\n            <el-input v-model=\"HeritageForm.heritageAddress\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"非遗简介\">\r\n            <el-input type=\"textarea\" v-model=\"HeritageForm.heritageDetail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item >\r\n            <el-button type=\"primary\" @click=\"addHeritage\" plain size=\"small\">立即修改</el-button>\r\n            <el-button size=\"small\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-drawer>\r\n    </div>\r\n    <div class=\"count\">\r\n      <div class=\"echarts\" id=\"teaChart\" style=\"float:left;width: 100%;height: 100px\"></div>\r\n    </div>\r\n\r\n    <div class=\"ranking\">\r\n      <span>收藏榜</span>\r\n        <el-table\r\n            :data=\"rankingData\"\r\n            stripe\r\n            style=\"width: 100%;font-size: 13px\"\r\n            :cell-style=\"{padding:'5px'}\"\r\n            max-height=\"300px\">\r\n          <el-table-column\r\n              prop=\"heritageName\"\r\n              label=\"名称\"\r\n              width=\"80\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"collect\"\r\n              label=\"收藏\"\r\n              width=\"80\">\r\n          </el-table-column>\r\n        </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\nexport default {\r\n  name: \"HeritageManage\",\r\n  data(){\r\n    return{\r\n      pageSize:10,\r\n      pageNum:1,\r\n      total:0,\r\n      search:'',\r\n      select:'',\r\n      HeritageData:[\r\n        {\r\n          heritageName:'1',\r\n          heritageCity:'1',\r\n          heritageAddress:'1',\r\n          heritageDetail:'2',\r\n          heritageImg:'1',\r\n        }\r\n      ],\r\n      rankingData:[\r\n        {\r\n          heritageName: \"不知道\",\r\n          collect:20\r\n        },\r\n      ],\r\n      addHeritageDrawer:false,\r\n      updateHeritageDrawer:false,\r\n      direction:'rtl',\r\n      HeritageForm: {\r\n        heritageName:'',\r\n        heritageCity:'',\r\n        heritageAddress:'',\r\n        heritageDetail:'',\r\n        heritageImg:'',\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n    initEcharts() {\r\n      const option = {\r\n        legend: {\r\n          orient: 'vertical',\r\n          x: 'left',\r\n          data: ['A', 'B', 'C', 'D', 'E']\r\n        },\r\n        series: [\r\n          {\r\n            type: 'pie',\r\n            radius: ['50%', '70%'],\r\n            avoidLabelOverlap: false,\r\n            label: {\r\n              show: false,\r\n              position: 'center'\r\n            },\r\n            labelLine: {\r\n              show: false\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: true,\r\n                fontSize: '30',\r\n                fontWeight: 'bold'\r\n              }\r\n            },\r\n            data: [\r\n              { value: 335, name: 'A' },\r\n              { value: 310, name: 'B' },\r\n              { value: 234, name: 'C' },\r\n              { value: 135, name: 'D' },\r\n              { value: 1548, name: 'E' }\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n      this.myChart = echarts.init(document.getElementById(\"teaChart\"));\r\n      this.myChart.setOption(option);\r\n    },\r\n    openAdd(){\r\n      this.addHeritageDrawer=true\r\n      this.HeritageForm.heritageName=''\r\n      this.HeritageForm.heritageCity=''\r\n      this.HeritageForm.heritageDetail=''\r\n      this.HeritageForm.heritageImg=''\r\n    },\r\n    openUpdate(heritage){\r\n      this.updateHeritageDrawer=true\r\n      this.HeritageForm.heritageName=heritage.heritageName\r\n      this.HeritageForm.heritageCity=heritage.heritageCity\r\n      this.HeritageForm.heritageDetail=heritage.heritageDetail\r\n      this.HeritageForm.heritageImg=heritage.heritageImg\r\n    },\r\n    addHeritage(){},\r\n    delHeritage(){},\r\n    updateHeritage(){},\r\n    handleSizeChange(val) {\r\n      this.pageSize=val\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNum=val\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.initEcharts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dataForm{\r\n  width: 600px;\r\n  height: 500px;\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  float: left;\r\n  padding: 10px;\r\n  background: rgba( 254, 252, 252, 0.8 );\r\n  border-radius: 15px;\r\n  border: 1px solid rgba( 255, 255, 255, 0.18 );\r\n}\r\n.el-select{\r\n  width: 90px;\r\n}\r\n.el-input{\r\n  width: 300px;\r\n  float: left;\r\n  opacity: 0.8;\r\n}\r\n.btn{\r\n  float: left;\r\n  margin-left: 7px;\r\n}\r\n.btn:hover{\r\n  background-color: rgba( 255, 255, 255, 0.3 );\r\n  transform: scale(1.1);\r\n  transition: all 0.6s;\r\n}\r\n.table{\r\n  margin-top: 20px;\r\n  float: left;\r\n}\r\n.page{\r\n  float: left;\r\n  background-color: rgba( 254, 252, 252, 0.8 );\r\n  opacity: 0.8;\r\n  margin-left: 150px;\r\n}\r\n\r\n\r\n.count{\r\n  width: 170px;\r\n  height: 170px;\r\n  margin-top: 10px;\r\n  margin-left: 15px;\r\n  float: left;\r\n  padding: 10px;\r\n  background: rgba( 254, 252, 252, 0.8 );\r\n  border-radius: 15px;\r\n  border: 1px solid rgba( 255, 255, 255, 0.18 );\r\n}\r\n.ranking{\r\n  width: 170px;\r\n  height: 300px;\r\n  margin-top: 10px;\r\n  margin-left: 15px;\r\n  float: left;\r\n  padding: 10px;\r\n  background: rgba( 254, 252, 252, 0.8 );\r\n  border-radius: 15px;\r\n  border: 1px solid rgba( 255, 255, 255, 0.18 );\r\n}\r\n.ranking>span{\r\n  float: left;\r\n  font-weight: bold;\r\n  color: lightslategray;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n</style>"],"mappings":"AAkIA,YAAAA,OAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;MACAC,KAAA;MACAC,MAAA;MACAC,MAAA;MACAC,YAAA,GACA;QACAC,YAAA;QACAC,YAAA;QACAC,eAAA;QACAC,cAAA;QACAC,WAAA;MACA,EACA;MACAC,WAAA,GACA;QACAL,YAAA;QACAM,OAAA;MACA,EACA;MACAC,iBAAA;MACAC,oBAAA;MACAC,SAAA;MACAC,YAAA;QACAV,YAAA;QACAC,YAAA;QACAC,eAAA;QACAC,cAAA;QACAC,WAAA;MACA;IACA;EACA;EACAO,OAAA;IACAC,YAAA;MACA,MAAAC,MAAA;QACAC,MAAA;UACAC,MAAA;UACAC,CAAA;UACAvB,IAAA;QACA;QACAwB,MAAA,GACA;UACAC,IAAA;UACAC,MAAA;UACAC,iBAAA;UACAC,KAAA;YACAC,IAAA;YACAC,QAAA;UACA;UACAC,SAAA;YACAF,IAAA;UACA;UACAG,QAAA;YACAJ,KAAA;cACAC,IAAA;cACAI,QAAA;cACAC,UAAA;YACA;UACA;UACAlC,IAAA,GACA;YAAAmC,KAAA;YAAApC,IAAA;UAAA,GACA;YAAAoC,KAAA;YAAApC,IAAA;UAAA,GACA;YAAAoC,KAAA;YAAApC,IAAA;UAAA,GACA;YAAAoC,KAAA;YAAApC,IAAA;UAAA,GACA;YAAAoC,KAAA;YAAApC,IAAA;UAAA;QAEA;MAEA;MACA,KAAAqC,OAAA,GAAAtC,OAAA,CAAAuC,IAAA,CAAAC,QAAA,CAAAC,cAAA;MACA,KAAAH,OAAA,CAAAI,SAAA,CAAApB,MAAA;IACA;IACAqB,QAAA;MACA,KAAA3B,iBAAA;MACA,KAAAG,YAAA,CAAAV,YAAA;MACA,KAAAU,YAAA,CAAAT,YAAA;MACA,KAAAS,YAAA,CAAAP,cAAA;MACA,KAAAO,YAAA,CAAAN,WAAA;IACA;IACA+B,WAAAC,QAAA;MACA,KAAA5B,oBAAA;MACA,KAAAE,YAAA,CAAAV,YAAA,GAAAoC,QAAA,CAAApC,YAAA;MACA,KAAAU,YAAA,CAAAT,YAAA,GAAAmC,QAAA,CAAAnC,YAAA;MACA,KAAAS,YAAA,CAAAP,cAAA,GAAAiC,QAAA,CAAAjC,cAAA;MACA,KAAAO,YAAA,CAAAN,WAAA,GAAAgC,QAAA,CAAAhC,WAAA;IACA;IACAiC,YAAA;IACAC,YAAA;IACAC,eAAA;IACAC,iBAAAC,GAAA;MACA,KAAA/C,QAAA,GAAA+C,GAAA;IACA;IACAC,oBAAAD,GAAA;MACA,KAAA9C,OAAA,GAAA8C,GAAA;IACA;EACA;EACAE,YAAA;IACA,KAAA/B,WAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
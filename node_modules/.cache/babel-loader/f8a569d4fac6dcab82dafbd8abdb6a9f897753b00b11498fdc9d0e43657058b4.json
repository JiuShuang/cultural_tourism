{"ast":null,"code":"import 'animate.css';\nimport UserApi from \"@/api/UserApi\";\nexport default {\n  name: 'LoginPage',\n  data() {\n    return {\n      active: 0,\n      LoginForm: {\n        userAccount: '',\n        userPassword: ''\n      },\n      RegisterForm: {\n        userAccount: '',\n        userPassword: '',\n        userPhone: '',\n        userName: '',\n        userSex: '',\n        userAge: '',\n        userRole: \"管理员\"\n      },\n      invitationCode: '',\n      styleObj: {\n        bordertoprightradius: '15px',\n        borderbottomrightradius: '15px',\n        bordertopleftradius: '0px',\n        borderbottomleftradius: '0px',\n        rightDis: '0px'\n      },\n      isShow: true\n    };\n  },\n  methods: {\n    changeToRegister() {\n      this.styleObj.bordertoprightradius = '0px';\n      this.styleObj.borderbottomrightradius = '0px';\n      this.styleObj.bordertopleftradius = '15px';\n      this.styleObj.borderbottomleftradius = '15px';\n      this.styleObj.rightDis = '50%';\n      this.isShow = !this.isShow;\n    },\n    changeToLogin() {\n      this.styleObj.bordertoprightradius = '15px';\n      this.styleObj.borderbottomrightradius = '15px';\n      this.styleObj.bordertopleftradius = '0px';\n      this.styleObj.borderbottomleftradius = '0px';\n      this.styleObj.rightDis = '0px';\n      this.isShow = !this.isShow;\n    },\n    LoginConfirm() {\n      UserApi.userLogin(this.LoginForm.userAccount, this.LoginForm.userPassword).then(res => res.data).then(res => {\n        if (res.code === 200) {\n          this.$router.replace('/TourismManager/UserManage');\n          this.$message({\n            showClose: true,\n            message: '用户登录成功',\n            type: 'success'\n          });\n        } else {\n          this.$message({\n            showClose: true,\n            message: '账号与密码错误或账号无权限de',\n            type: 'error'\n          });\n        }\n      });\n    },\n    RegisterConfirm() {\n      if (this.invitationCode === '909288') {\n        UserApi.userRegister(this.RegisterForm).then(res => res.data).then(res => {\n          if (res.code === 200) {\n            this.changeToLogin();\n            this.resetForm();\n            this.$message({\n              showClose: true,\n              message: '用户注册成功',\n              type: 'success'\n            });\n          } else {\n            this.$message({\n              showClose: true,\n              message: '用户注册失败',\n              type: 'error'\n            });\n          }\n        });\n      } else {\n        this.$message({\n          showClose: true,\n          message: '邀请码错误',\n          type: 'error'\n        });\n      }\n    },\n    resetForm() {\n      this.RegisterForm.userAccount = '';\n      this.RegisterForm.userPassword = '';\n      this.RegisterForm.userName = '';\n      this.RegisterForm.userPhone = '';\n      this.RegisterForm.userSex = '';\n      this.RegisterForm.userAge = '';\n      this.invitationCode = '';\n    }\n  }\n};","map":{"version":3,"names":["UserApi","name","data","active","LoginForm","userAccount","userPassword","RegisterForm","userPhone","userName","userSex","userAge","userRole","invitationCode","styleObj","bordertoprightradius","borderbottomrightradius","bordertopleftradius","borderbottomleftradius","rightDis","isShow","methods","changeToRegister","changeToLogin","LoginConfirm","userLogin","then","res","code","$router","replace","$message","showClose","message","type","RegisterConfirm","userRegister","resetForm"],"sources":["src/components/LoginPage/LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"base\">\r\n    <!-- 注册登录界面 -->\r\n    <div  class=\"loginAndRegister\">\r\n      <!--登录表单-->\r\n      <div  class=\"loginArea\">\r\n        <!-- 标语 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" class=\"title\">\r\n            LOGIN\r\n          </div>\r\n        </transition>\r\n        <!-- 密码框和用户名框 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" class=\"pwdArea\">\r\n            <div style=\"flex: 1;justify-content: center;display: flex;align-items: center\">\r\n              <el-form class=\"LoginForm\" ref=\"LoginForm\" :model=\"LoginForm\"  label-width=\"80px\" >\r\n                <el-form-item label=\"用户名\" prop=\"userName\" style=\"margin-bottom: 20px;width: 235px\">\r\n                  <el-input v-model=\"LoginForm.userAccount\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\" style=\"margin-top: 20px;width: 235px\">\r\n                  <el-input type=\"password\" v-model=\"LoginForm.userPassword\"\r\n                            show-password autocomplete=\"off\" @keyup.e.enter.native=\"LoginConfirm\"></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n\r\n          </div>\r\n        </transition>\r\n        <!-- 登录按钮 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" class=\"btnArea\">\r\n            <el-button type=\"success\" round style=\"background-color: #8f1d22;margin-bottom: 70px;letter-spacing: 5px;font-size: 15px;  border: 1px solid #631216\"\r\n                       @click=\"LoginConfirm\">登录</el-button>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n\r\n      <!-- 注册表单 -->\r\n      <div class=\"registerArea\">\r\n        <!--注册表头-->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"!isShow\" class=\"registerTitle\">\r\n            用户注册\r\n          </div>\r\n        </transition>\r\n        <!--注册表单-->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div  v-show=\"!isShow\" class=\"registerForm\">\r\n            <div style=\"flex: 1;display: flex;justify-content: center;align-items: center\">\r\n              <el-form class=\"RegisterForm\" ref=\"RegisterForm\" :model=\"RegisterForm\" label-width=\"80px\">\r\n                <el-form-item label=\"用户账号\" prop=\"userAccount\" class=\"theLabel\">\r\n                  <el-input v-model=\"RegisterForm.userAccount\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户密码\">\r\n                  <el-input type=\"password\" v-model=\"RegisterForm.userPassword\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户昵称\">\r\n                  <el-input v-model=\"RegisterForm.userName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户性别\">\r\n                  <el-input v-model=\"RegisterForm.userSex\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户年龄\">\r\n                  <el-input v-model=\"RegisterForm.userAge\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户电话\">\r\n                  <el-input v-model=\"RegisterForm.userPhone\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邀请码\">\r\n                  <el-input v-model=\"invitationCode\"></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n        <!--注册按钮-->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div  v-show=\"!isShow\" class=\"registerBtn\">\r\n            <el-button type=\"success\" round style=\"background-color: #8f1d22;letter-spacing: 5px;  border: 1px solid #631216\" @click=\"RegisterConfirm\">注册</el-button>\r\n            <el-button type=\"success\" round style=\"background-color: #8f1d22;letter-spacing: 5px;  border: 1px solid #631216\" @click=\"resetForm\">重置</el-button>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n      <!-- 信息展示界面 -->\r\n      <div id=\"aaa\" class=\"showInfo\"\r\n           :style=\"{\r\n             borderTopRightRadius:styleObj.bordertoprightradius,\r\n             borderBottomRightRadius:styleObj.borderbottomrightradius,\r\n             borderTopLeftRadius:styleObj.bordertopleftradius,\r\n             borderBottomLeftRadius:styleObj.borderbottomleftradius,\r\n             right:styleObj.rightDis\r\n            }\"\r\n           ref=\"showInfoView\">\r\n        <!-- 没有用户输入用户名或者找不到用户名的时候 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"isShow\" style=\"display: flex;flex-direction: column;align-items: center;justify-content: center;width: 100%;height: 100%\">\r\n            <!-- 欢迎语 -->\r\n            <div style=\"flex: 2;display: flex;align-items: center;font-size: 22px;color: #FFFFFF;font-weight: bold\">\r\n              欢迎登入非遗系统\r\n            </div>\r\n            <!-- 欢迎图片 -->\r\n            <div style=\"flex: 2\">\r\n              <el-button type=\"success\"  style=\"background-color:#8f1d22;border: 1px solid #ffffff;\" round @click=\"changeToRegister\">还没有账户？点击注册</el-button>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n        <!-- 用户注册的时候展示信息 -->\r\n        <transition\r\n            name=\"animate__animated animate__bounce\"\r\n            enter-active-class=\"animate__fadeInUp\"\r\n            leave-active-class=\"animate__zoomOut\"\r\n            appear\r\n        >\r\n          <div v-show=\"!isShow\" style=\"display: flex;flex-direction: column;align-items: center;justify-content: center;width: 100%;height: 100%\">\r\n            <!-- 欢迎语 -->\r\n            <div style=\"flex: 2;display: flex;align-items: center;font-size: 30px;color: #FFFFFF;font-weight: bold\">\r\n              欢迎注册\r\n            </div>\r\n            <!-- 欢迎图片 -->\r\n            <div style=\"flex: 2\">\r\n              <el-button type=\"success\"  style=\"background-color:#8f1d22;border: 1px solid #ffffff;\" round @click=\"changeToLogin\">已有账户？点击登录</el-button>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'animate.css'\r\nimport UserApi from \"@/api/UserApi\";\r\nexport default {\r\n\r\n  name:'LoginPage',\r\n  data(){\r\n    return{\r\n      active: 0,\r\n      LoginForm:{\r\n        userAccount:'',\r\n        userPassword:'',\r\n      },\r\n      RegisterForm:{\r\n        userAccount:'',\r\n        userPassword:'',\r\n        userPhone:'',\r\n        userName:'',\r\n        userSex:'',\r\n        userAge:'',\r\n        userRole:\"管理员\"\r\n      },\r\n      invitationCode:'',\r\n      styleObj:{\r\n        bordertoprightradius:'15px',\r\n        borderbottomrightradius: '15px',\r\n        bordertopleftradius:'0px',\r\n        borderbottomleftradius:'0px',\r\n        rightDis:'0px'\r\n      },\r\n      isShow:true\r\n    }\r\n  },\r\n  methods:{\r\n    changeToRegister(){\r\n      this.styleObj.bordertoprightradius= '0px'\r\n      this.styleObj.borderbottomrightradius='0px'\r\n      this.styleObj.bordertopleftradius='15px'\r\n      this.styleObj.borderbottomleftradius='15px'\r\n      this.styleObj.rightDis='50%'\r\n      this.isShow = !this.isShow\r\n    },\r\n    changeToLogin(){\r\n      this.styleObj.bordertoprightradius= '15px'\r\n      this.styleObj.borderbottomrightradius='15px'\r\n      this.styleObj.bordertopleftradius='0px'\r\n      this.styleObj.borderbottomleftradius='0px'\r\n      this.styleObj.rightDis='0px'\r\n      this.isShow = !this.isShow\r\n    },\r\n\r\n    LoginConfirm(){\r\n      UserApi.userLogin(this.LoginForm.userAccount,this.LoginForm.userPassword).then(res=>res.data).then(res=>{\r\n        if(res.code===200){\r\n          this.$router.replace('/TourismManager/UserManage');\r\n          this.$message({\r\n            showClose: true,\r\n            message: '用户登录成功',\r\n            type: 'success'\r\n          });\r\n        }else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '账号与密码错误或账号无权限de',\r\n            type: 'error'\r\n          });\r\n        }\r\n      });\r\n    },\r\n    RegisterConfirm(){\r\n      if (this.invitationCode==='909288') {\r\n        UserApi.userRegister(this.RegisterForm).then(res => res.data).then(res => {\r\n          if (res.code === 200) {\r\n            this.changeToLogin()\r\n            this.resetForm()\r\n            this.$message({\r\n              showClose: true,\r\n              message: '用户注册成功',\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '用户注册失败',\r\n              type: 'error'\r\n            });\r\n          }\r\n        });\r\n      }else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '邀请码错误',\r\n          type: 'error'\r\n        });\r\n      }\r\n    },\r\n    resetForm(){\r\n      this.RegisterForm.userAccount=''\r\n      this.RegisterForm.userPassword=''\r\n      this.RegisterForm.userName=''\r\n      this.RegisterForm.userPhone=''\r\n      this.RegisterForm.userSex=''\r\n      this.RegisterForm.userAge=''\r\n      this.invitationCode=''\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-form-item{\r\n  margin-bottom: 10px;\r\n  width: 225px;\r\n}\r\n\r\n.el-button:hover{\r\n  border: 1px solid #8f1d22;\r\n}\r\n.base{\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-image: url(\"../../assets/images/background.jpg\");\r\n  background-size: 100%;\r\n}\r\n.loginAndRegister{\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n.loginArea{\r\n  background-color: rgba(255,255,255,0.8);\r\n  border-top-left-radius: 15px;\r\n  border-bottom-left-radius: 15px;\r\n  height: 500px;\r\n  width: 400px;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n.registerArea{\r\n  border-top-right-radius: 15px;\r\n  border-bottom-right-radius: 15px;\r\n  height: 500px;\r\n  width: 400px;\r\n  background-color: rgba(255,255,255,0.8);\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content:center ;\r\n  align-items: center;\r\n}\r\n.showInfo{\r\n  border-top-right-radius: 15px;\r\n  border-bottom-right-radius: 15px;\r\n  position: absolute;\r\n  height: 500px;\r\n  width: 400px;\r\n  z-index:2;\r\n  top: 0;\r\n  right: 0;\r\n  background-image: url(\"../../assets/images/welcome.jpg\");\r\n  opacity: 0.85;\r\n  background-size: 100%;\r\n}\r\n.title{\r\n  width: 70%;\r\n  flex:1;\r\n  border-bottom: 1px solid #8f1d22;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #8f1d22;\r\n  font-weight: bold;\r\n  font-size: 50px;\r\n  justify-content: center;\r\n}\r\n#aaa{\r\n  transition: 0.3s linear;\r\n}\r\n.pwdArea{\r\n  width: 100%;\r\n  flex:2;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.pwdArea input{\r\n  outline: none;\r\n  height: 40%;\r\n  border-radius:10px ;\r\n  padding-left: 10px;\r\n  font-size: 20px;\r\n  border: 1px solid #8f1d22;\r\n}\r\n.pwdArea input:focus{\r\n  border: 2px solid #8f1d22;\r\n}\r\n\r\n.btnArea{\r\n  flex:1;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n.registerTitle{\r\n  width: 70%;\r\n  flex: 1;\r\n  color: #8f1d22;\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-bottom: 1px solid #8f1d22;\r\n}\r\n.registerForm{\r\n  flex: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: #8f1d22;\r\n  font-size: 30px;\r\n}\r\n.registerForm input{\r\n  outline: none;\r\n  height: 15%;\r\n  border-radius:20px ;\r\n  padding-left: 10px;\r\n  font-size: 12px;\r\n  border: 2px solid #8f1d22;\r\n}\r\n.registerForm input:focus{\r\n  border: 2px solid #8f1d22;\r\n}\r\n.registerBtn{\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>"],"mappings":"AAwKA;AACA,OAAAA,OAAA;AACA;EAEAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,SAAA;QACAC,WAAA;QACAC,YAAA;MACA;MACAC,YAAA;QACAF,WAAA;QACAC,YAAA;QACAE,SAAA;QACAC,QAAA;QACAC,OAAA;QACAC,OAAA;QACAC,QAAA;MACA;MACAC,cAAA;MACAC,QAAA;QACAC,oBAAA;QACAC,uBAAA;QACAC,mBAAA;QACAC,sBAAA;QACAC,QAAA;MACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,iBAAA;MACA,KAAAR,QAAA,CAAAC,oBAAA;MACA,KAAAD,QAAA,CAAAE,uBAAA;MACA,KAAAF,QAAA,CAAAG,mBAAA;MACA,KAAAH,QAAA,CAAAI,sBAAA;MACA,KAAAJ,QAAA,CAAAK,QAAA;MACA,KAAAC,MAAA,SAAAA,MAAA;IACA;IACAG,cAAA;MACA,KAAAT,QAAA,CAAAC,oBAAA;MACA,KAAAD,QAAA,CAAAE,uBAAA;MACA,KAAAF,QAAA,CAAAG,mBAAA;MACA,KAAAH,QAAA,CAAAI,sBAAA;MACA,KAAAJ,QAAA,CAAAK,QAAA;MACA,KAAAC,MAAA,SAAAA,MAAA;IACA;IAEAI,aAAA;MACAxB,OAAA,CAAAyB,SAAA,MAAArB,SAAA,CAAAC,WAAA,OAAAD,SAAA,CAAAE,YAAA,EAAAoB,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAzB,IAAA,EAAAwB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,OAAA,CAAAC,OAAA;UACA,KAAAC,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;UACA,KAAAH,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;MACA;IACA;IACAC,gBAAA;MACA,SAAAtB,cAAA;QACAb,OAAA,CAAAoC,YAAA,MAAA7B,YAAA,EAAAmB,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAzB,IAAA,EAAAwB,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA,KAAAL,aAAA;YACA,KAAAc,SAAA;YACA,KAAAN,QAAA;cACAC,SAAA;cACAC,OAAA;cACAC,IAAA;YACA;UACA;YACA,KAAAH,QAAA;cACAC,SAAA;cACAC,OAAA;cACAC,IAAA;YACA;UACA;QACA;MACA;QACA,KAAAH,QAAA;UACAC,SAAA;UACAC,OAAA;UACAC,IAAA;QACA;MACA;IACA;IACAG,UAAA;MACA,KAAA9B,YAAA,CAAAF,WAAA;MACA,KAAAE,YAAA,CAAAD,YAAA;MACA,KAAAC,YAAA,CAAAE,QAAA;MACA,KAAAF,YAAA,CAAAC,SAAA;MACA,KAAAD,YAAA,CAAAG,OAAA;MACA,KAAAH,YAAA,CAAAI,OAAA;MACA,KAAAE,cAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}